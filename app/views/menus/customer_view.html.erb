<%= javascript_pack_tag 'my_function' %>
<h1>Customer view available menus</h1>
<% cart = Cart.find_or_create_by(user_id: 1)%>
<section>
<% MenuItem.all.each do |item|%>

    <li class="Items-container">
    <%= form_with(url: "/carts/#{cart.id}/cart_items" , method: "post") do %> 
        <div class="Items-content"> 
            <input type="text" name="menu_item_name" value="<%= item.name%>" readonly>
        </div>
        <div class="Items-content"> 
            <input type="number" name="menu_item_price" value="<%= item.price%>" readonly>
        </div>
        <input type="hidden" name="menu_id" value="<%= item.menu_id%>">
        <input type="hidden" name="menu_item_id" value="<%= item.id%>">
        
       
        <input type="submit" value="Add" onclick="this.form.submit()">
        <div class="Item-content">
        <div>+</div>
        <div>qunatity</div>
        <div>-</div>
        </div>



    <% end %>
    
    </li>    
<% end %>
</section>
<h1>Cart Items</h1>
<section>
    <% CartItem.where(cart_id: cart.id).each do |cart_item| %>
       <%= cart_item.menu_item_name%>
       <%= (cart_item.menu_item_price)*cart_item.menu_item_quantity%>
    <% end %>
</section>